2025-04-08 15:01:04,982 - optimization - INFO - 日志系统初始化完成。日志文件: logs/optimization_20250408_150104.log
2025-04-08 15:01:04,983 - optimization - INFO - === 开始优化任务 rw001 ===
2025-04-08 15:01:04,984 - optimization - INFO - 连接到Neo4j数据库 bolt://localhost:7699
2025-04-08 15:01:04,984 - data.neo4j_handler - INFO - Successfully connected to Neo4j at bolt://localhost:7699
2025-04-08 15:01:04,996 - optimization - INFO - 执行测试查询...
2025-04-08 15:01:05,014 - optimization - INFO - 获取任务 rw001 的数据
2025-04-08 15:01:05,028 - neo4j.notifications - WARNING - Received notification from DBMS server: {severity: WARNING} {code: Neo.ClientNotification.Statement.FeatureDeprecationWarning} {category: DEPRECATION} {title: This feature is deprecated and will be removed in future versions.} {description: The query used a deprecated function: `id`.} {position: line: 6, column: 52, offset: 242} for query: '\n                    MATCH (t:任务 {任务编号: $task_id})\n                    MATCH (t)-[:部署单位]->(n1:节点)\n                    MATCH (n1)-[r:通信手段]->(n2:节点)\n                    WHERE (t)-[:部署单位]->(n2)\n                    RETURN r, type(r) as rel_type, id(n1) as start_id, id(n2) as end_id\n                    '
2025-04-08 15:01:05,028 - neo4j.notifications - WARNING - Received notification from DBMS server: {severity: WARNING} {code: Neo.ClientNotification.Statement.FeatureDeprecationWarning} {category: DEPRECATION} {title: This feature is deprecated and will be removed in future versions.} {description: The query used a deprecated function: `id`.} {position: line: 6, column: 72, offset: 262} for query: '\n                    MATCH (t:任务 {任务编号: $task_id})\n                    MATCH (t)-[:部署单位]->(n1:节点)\n                    MATCH (n1)-[r:通信手段]->(n2:节点)\n                    WHERE (t)-[:部署单位]->(n2)\n                    RETURN r, type(r) as rel_type, id(n1) as start_id, id(n2) as end_id\n                    '
2025-04-08 15:01:05,029 - data.neo4j_handler - INFO - Retrieved task data for rw001: 6 links
2025-04-08 15:01:05,029 - optimization - INFO - 获取任务 rw001 的环境数据
2025-04-08 15:01:05,033 - data.neo4j_handler - INFO - Retrieved environment data for rw001
2025-04-08 15:01:05,033 - optimization - INFO - 获取任务 rw001 的约束数据
2025-04-08 15:01:05,036 - data.neo4j_handler - INFO - Retrieved constraint data for rw001
2025-04-08 15:01:05,036 - optimization - INFO - 优化配置: 种群大小=100, 迭代代数=200
2025-04-08 15:01:05,036 - optimization - INFO - 初始化优化器
2025-04-08 15:01:05,036 - data.neo4j_handler - INFO - Neo4j connection closed
2025-04-08 15:01:05,038 - optimization - INFO - 正在执行优化方法对比
2025-04-08 15:01:05,038 - data.neo4j_handler - INFO - Successfully connected to Neo4j at bolt://localhost:7699
2025-04-08 15:01:05,053 - data.neo4j_handler - INFO - Found 10 similar cases for task rw001
2025-04-08 15:01:05,074 - data.neo4j_handler - INFO - Retrieved 6 communication links for task rw198
2025-04-08 15:01:05,084 - data.neo4j_handler - INFO - Retrieved 6 communication links for task rw262
2025-04-08 15:01:05,094 - data.neo4j_handler - INFO - Retrieved 6 communication links for task rw146
2025-04-08 15:01:05,102 - data.neo4j_handler - INFO - Retrieved 6 communication links for task rw171
2025-04-08 15:01:05,112 - data.neo4j_handler - INFO - Retrieved 8 communication links for task rw223
2025-04-08 15:01:05,124 - data.neo4j_handler - INFO - Retrieved 14 communication links for task rw244
2025-04-08 15:01:05,133 - data.neo4j_handler - INFO - Retrieved 6 communication links for task rw051
2025-04-08 15:01:05,142 - data.neo4j_handler - INFO - Retrieved 6 communication links for task rw053
2025-04-08 15:01:05,152 - data.neo4j_handler - INFO - Retrieved 11 communication links for task rw157
2025-04-08 15:01:05,161 - data.neo4j_handler - INFO - Retrieved 6 communication links for task rw295
2025-04-08 15:01:59,259 - optimization - ERROR - 优化过程中发生错误: 'OptimizationConfig' object has no attribute 'output_dir'
2025-04-08 15:01:59,260 - optimization - ERROR - Traceback (most recent call last):
  File "main.py", line 99, in main
    comparison_results = optimizer.compare_optimization_methods(args.task_id)
  File "/home/fangwentao/naval_comm_opt/src/optimization/nsga2_optimizer.py", line 549, in compare_optimization_methods
    comparison_file = os.path.join(self.config.output_dir, f"{task_id}_method_comparison.json")
AttributeError: 'OptimizationConfig' object has no attribute 'output_dir'

2025-04-08 15:01:59,260 - optimization - INFO - === 优化任务结束 ===
